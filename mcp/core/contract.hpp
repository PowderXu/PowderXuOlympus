#pragma once
#include "transaction.hpp"
#include "common.hpp"
#include <account/base.hpp>
#include <libdevcore/Address.h>

namespace mcp
{
	const std::string DENContractABI = "[{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"name\":\"stores4\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"intstores\",\"type\":\"int256\"},{\"internalType\":\"address\",\"name\":\"addressstores\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"stringstores\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"boolstores\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"bytesstores\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\",\"constant\":true},{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"key\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"v1\",\"type\":\"int256\"},{\"internalType\":\"address\",\"name\":\"v2\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"v3\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"v4\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"v5\",\"type\":\"bytes\"}],\"name\":\"setreturns\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"key\",\"type\":\"int256\"}],\"name\":\"getreturns\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\",\"constant\":true}]";
	const dev::Address DENContractAddress = dev::Address("0xD2b53c6dcF4EB754DE108ec0420EE7EcfC1223B3");
	const dev::Address DENcallcAddress = dev::Address("0x1144b522f45265c2dfdbaee8e324719e63a1694c");

	class DENContractCaller
	{
	public:
		DENContractCaller(){}
		DENContractCaller(dev::BoundContract _contract) :contract(_contract) {}

		//demo
		// returns int v1, dev::Address v2, std::string v3, bool v4, dev::bytes v5
		template<typename... Args>
		void getreturns(int & v1, dev::h160& v2, std::string& v3, bool& v4, dev::bytes& v5, Args const&... args);
	private:
		dev::BoundContract contract;
	};

	DENContractCaller NewDENContractCaller(dev::ContractCaller const& _caller);

	/// args: abi input
	/// v1,v2,v3,v4,v5 return values
	template<typename... Args>
	inline void DENContractCaller::getreturns(int & v1, dev::h160& v2, std::string& v3, bool& v4, dev::bytes& v5, Args const&... args)
	{
		std::string method = "getreturns";
		dev::CallOpts opts{ DENcallcAddress };
		dev::bytes ret = contract.Call(&opts, method, args...);
		contract.Unpack(method, ret, v1, v2, v3, v4, v5);
	}

	///ContractCaller instance
	extern DENContractCaller DENCaller;

	///mainnet witness contract
	const dev::bytes MainContractByteCodeAdmin(dev::fromHex("608060405234801561001057600080fd5b50610033610025640100000000610038810204565b64010000000061003c810204565b61008c565b3390565b60008054600160a060020a03838116600160a060020a0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6108068061009b6000396000f3fe608060405260043610610098576000357c0100000000000000000000000000000000000000000000000000000000900480639623609d1161006b5780639623609d1461012e57806399a88ec414610141578063f2fde38b14610161578063f3b7dead1461018157600080fd5b8063204e1c7a1461009d578063715018a6146100d95780637eff275e146100f05780638da5cb5b14610110575b600080fd5b3480156100a957600080fd5b506100bd6100b83660046105bd565b6101a1565b604051600160a060020a03909116815260200160405180910390f35b3480156100e557600080fd5b506100ee61024b565b005b3480156100fc57600080fd5b506100ee61010b3660046105e1565b61028d565b34801561011c57600080fd5b50600054600160a060020a03166100bd565b6100ee61013c366004610649565b610333565b34801561014d57600080fd5b506100ee61015c3660046105e1565b6103e0565b34801561016d57600080fd5b506100ee61017c3660046105bd565b610454565b34801561018d57600080fd5b506100bd61019c3660046105bd565b61050c565b600080600083600160a060020a03166040516101e0907f5c60da1b00000000000000000000000000000000000000000000000000000000815260040190565b600060405180830381855afa9150503d806000811461021b576040519150601f19603f3d011682016040523d82523d6000602084013e610220565b606091505b50915091508161022f57600080fd5b80806020019051810190610243919061071f565b949350505050565b600054600160a060020a031633146102815760405160e560020a62461bcd0281526004016102789061073c565b60405180910390fd5b61028b600061054b565b565b600054600160a060020a031633146102ba5760405160e560020a62461bcd0281526004016102789061073c565b6040517f8f283970000000000000000000000000000000000000000000000000000000008152600160a060020a038281166004830152831690638f283970906024015b600060405180830381600087803b15801561031757600080fd5b505af115801561032b573d6000803e3d6000fd5b505050505050565b600054600160a060020a031633146103605760405160e560020a62461bcd0281526004016102789061073c565b6040517f4f1ef286000000000000000000000000000000000000000000000000000000008152600160a060020a03841690634f1ef2869034906103a99086908690600401610771565b6000604051808303818588803b1580156103c257600080fd5b505af11580156103d6573d6000803e3d6000fd5b5050505050505050565b600054600160a060020a0316331461040d5760405160e560020a62461bcd0281526004016102789061073c565b6040517f3659cfe6000000000000000000000000000000000000000000000000000000008152600160a060020a038281166004830152831690633659cfe6906024016102fd565b600054600160a060020a031633146104815760405160e560020a62461bcd0281526004016102789061073c565b600160a060020a0381166105005760405160e560020a62461bcd02815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152608401610278565b6105098161054b565b50565b600080600083600160a060020a03166040516101e0907ff851a44000000000000000000000000000000000000000000000000000000000815260040190565b60008054600160a060020a0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600160a060020a038116811461050957600080fd5b6000602082840312156105cf57600080fd5b81356105da816105a8565b9392505050565b600080604083850312156105f457600080fd5b82356105ff816105a8565b9150602083013561060f816105a8565b809150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60008060006060848603121561065e57600080fd5b8335610669816105a8565b92506020840135610679816105a8565b9150604084013567ffffffffffffffff8082111561069657600080fd5b818601915086601f8301126106aa57600080fd5b8135818111156106bc576106bc61061a565b604051601f8201601f19908116603f011681019083821181831017156106e4576106e461061a565b816040528281528960208487010111156106fd57600080fd5b8260208601602083013760006020848301015280955050505050509250925092565b60006020828403121561073157600080fd5b81516105da816105a8565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b600160a060020a038316815260006020604081840152835180604085015260005b818110156107ae57858101830151858201606001528201610792565b506000606082860101526060601f19601f83011685010192505050939250505056fea2646970667358221220141cc3313c94a2490cd4e1df95895ce31b9c0a28617cb14d5504235c815b381964736f6c63430008120033"));
	const dev::bytes MainContractByteCodeDeposit(dev::fromHex("608060405234801561001057600080fd5b50613e7c806100206000396000f3fe608060405260043610610272576000357c0100000000000000000000000000000000000000000000000000000000900480638da5cb5b11610156578063d2dc42d0116100d3578063f2888dbb11610097578063f2888dbb146107d2578063f2fde38b146107f2578063f320add014610812578063f4f4239c14610832578063fa7643f414610852578063fe0adbca1461088b57600080fd5b8063d2dc42d014610700578063d855cbac14610736578063e160412d1461077f578063e8e0b4d61461079f578063f27f7427146107b257600080fd5b80639e614e0e1161011a5780639e614e0e14610624578063b2a0629a14610651578063b61e30b71461068a578063cc6c2ada146106c0578063d279c191146106e057600080fd5b80638da5cb5b146105a95780638f3f4ce4146105c757806393509f3e146105da5780639a2f055f146105fa5780639acaf2261461060f57600080fd5b80635a9b0b89116101ef578063715018a6116101b3578063715018a6146104fb578063757991a814610510578063779bcb9b14610525578063893a9c271461054557806389c4e930146105655780638cc81cc81461059457600080fd5b80635a9b0b8914610441578063612b8864146104785780636ab55fd91461048d5780636e9960c3146104a9578063704b6c02146104db57600080fd5b8063264762041161023657806326476204146103565780632d7aa82b146103695780632debd43a1461038957806339a1ffaa146103eb5780633a44cbf21461040b57600080fd5b80630ab4d69f146102965780630ee70ebc146102b8578063143ba4f3146102eb57806314c2a1bc1461030b5780631e3479821461032057600080fd5b366102915734606b6000828254610289919061392a565b925050819055005b600080fd5b3480156102a257600080fd5b506102b66102b136600461393d565b6108c1565b005b3480156102c457600080fd5b506102d86102d3366004613972565b61090f565b6040519081526020015b60405180910390f35b3480156102f757600080fd5b506102b66103063660046139e7565b61093a565b34801561031757600080fd5b50606c546102d8565b34801561032c57600080fd5b506102d861033b366004613a53565b600160a060020a031660009081526079602052604090205490565b6102b6610364366004613a53565b610e0a565b34801561037557600080fd5b506102b6610384366004613a6e565b61104b565b34801561039557600080fd5b506103a96103a4366004613ab1565b6111cf565b6040516102e29190600060a082019050825182526020830151602083015260408301516040830152606083015160608301526080830151608083015292915050565b3480156103f757600080fd5b506102b661040636600461393d565b6112c3565b34801561041757600080fd5b506102d8610426366004613a53565b600160a060020a031660009081526072602052604090205490565b34801561044d57600080fd5b50610456611309565b60408051825181526020808401519082015291810151908201526060016102e2565b34801561048457600080fd5b506067546102d8565b34801561049957600080fd5b506102d8670de0b6b3a764000081565b3480156104b557600080fd5b50606d54600160a060020a03165b604051600160a060020a0390911681526020016102e2565b3480156104e757600080fd5b506102b66104f6366004613a53565b611352565b34801561050757600080fd5b506102b6611440565b34801561051c57600080fd5b506068546102d8565b34801561053157600080fd5b506102d8610540366004613ab1565b611454565b34801561055157600080fd5b506102b6610560366004613a53565b6114a2565b34801561057157600080fd5b5061058561058036600461393d565b611664565b6040516102e293929190613ae4565b3480156105a057600080fd5b506065546102d8565b3480156105b557600080fd5b50603354600160a060020a03166104c3565b6102b66105d5366004613b8a565b611a17565b3480156105e657600080fd5b506102b66105f536600461393d565b611b1d565b34801561060657600080fd5b50606b546102d8565b34801561061b57600080fd5b506066546102d8565b34801561063057600080fd5b5061064461063f366004613a53565b611b63565b6040516102e29190613c4e565b34801561065d57600080fd5b506104c361066c366004613a53565b600160a060020a039081166000908152607660205260409020541690565b34801561069657600080fd5b506102d86106a5366004613a53565b600160a060020a031660009081526077602052604090205490565b3480156106cc57600080fd5b506102b66106db366004613a53565b611c95565b3480156106ec57600080fd5b506102b66106fb366004613a53565b611e46565b34801561070c57600080fd5b506102d861071b366004613a53565b600160a060020a031660009081526071602052604090205490565b34801561074257600080fd5b5061076f610751366004613a53565b600160a060020a031660009081526075602052604090205460ff1690565b60405190151581526020016102e2565b34801561078b57600080fd5b506102b661079a36600461393d565b611f04565b6102b66107ad36600461393d565b611f4a565b3480156107be57600080fd5b506102b66107cd36600461393d565b612381565b3480156107de57600080fd5b506102b66107ed366004613a53565b6123c7565b3480156107fe57600080fd5b506102b661080d366004613a53565b612653565b34801561081e57600080fd5b506102b661082d366004613a53565b6126e6565b34801561083e57600080fd5b506102b661084d36600461393d565b6129cc565b34801561085e57600080fd5b5061076f61086d366004613a53565b600160a060020a031660009081526073602052604090205460ff1690565b34801561089757600080fd5b506102d86108a6366004613a53565b600160a060020a031660009081526078602052604090205490565b6108c9612a12565b606580549082905560408051828152602081018490527f88506fd36d00eb660416e3b6026fd8de3b5ea0e3ca86129a4f92561be6b0f20e91015b60405180910390a15050565b600160a060020a03821660009081526070602090815260408083208484529091529020545b92915050565b606d54600160a060020a0316331461099c5760405160e560020a62461bcd02815260206004820181905260248201527f5374616b696e673a2043616c6c6572206973206e6f74207468652061646d696e60448201526064015b60405180910390fd5b828114610a145760405160e560020a62461bcd02815260206004820152602e60248201527f5374616b696e673a205769746e657373657320616e6420616d6f756e7473206c60448201527f656e677468206d69736d617463680000000000000000000000000000000000006064820152608401610993565b6000805b82811015610a5857838382818110610a3257610a32613cd0565b9050602002013582610a44919061392a565b915080610a5081613ce9565b915050610a18565b5080606b541015610ad45760405160e560020a62461bcd02815260206004820152602760248201527f5374616b696e673a20496e636f727265637420746f74616c207265776172647360448201527f20616d6f756e74000000000000000000000000000000000000000000000000006064820152608401610993565b60005b84811015610dd657600060766000888885818110610af757610af7613cd0565b9050602002016020810190610b0c9190613a53565b600160a060020a03908116825260208083019390935260409182016000908120548216808252607a8552838220845161014081018652815481526001820154968101969096526002810154948601949094526003840154606086015260048401546080860152600584015460a08601819052600685015460c0870152600785015460e0870152600885015461010087015260099094015490921661012085015290935090606490610bbd9082613d02565b888887818110610bcf57610bcf613cd0565b90506020020135610be09190613d15565b610bea9190613d2c565b600160a060020a038416600090815260716020526040812080549293508392909190610c1790849061392a565b909155506000905081888887818110610c3257610c32613cd0565b90506020020135610c439190613d02565b600160a060020a0385166000908152607a6020526040812060040180549293508392909190610c7390849061392a565b90915550819050607860008c8c89818110610c9057610c90613cd0565b9050602002016020810190610ca59190613a53565b600160a060020a0316600160a060020a031681526020019081526020016000206000828254610cd4919061392a565b90915550819050607960008c8c89818110610cf157610cf1613cd0565b9050602002016020810190610d069190613a53565b600160a060020a0316600160a060020a031681526020019081526020016000206000828254610d35919061392a565b90915550610d469050846000612a6f565b7f92d8e67e11e35152e7b525077fc4cf66393423d128ce3b803453b22533c57641848b8b88818110610d7a57610d7a613cd0565b9050602002016020810190610d8f9190613a53565b8a8a89818110610da157610da1613cd0565b90506020020135604051610db793929190613d51565b60405180910390a1505050508080610dce90613ce9565b915050610ad7565b5080606b6000828254610de99190613d02565b909155505060688054906000610dfe83613ce9565b91905055505050505050565b600160a060020a03811660009081526075602052604090205460ff16610e9b5760405160e560020a62461bcd02815260206004820152602560248201527f5374616b696e673a20496e76616c6964207374616b696e6720706f6f6c20616460448201527f64726573730000000000000000000000000000000000000000000000000000006064820152608401610993565b606654341015610f165760405160e560020a62461bcd02815260206004820152602a60248201527f5374616b696e673a20496e73756666696369656e74207061796d656e7420737460448201527f616b6520616d6f756e74000000000000000000000000000000000000000000006064820152608401610993565b610f208133612a6f565b600160a060020a0381166000908152607b6020908152604080832033845290915281206001018054349290610f5690849061392a565b9091555050600160a060020a0381166000908152607a602052604081206002018054349290610f8690849061392a565b9091555050606854600160a060020a0382166000818152607b6020908152604080832033808552908352818420600301869055938352607a82528083206006019490945591815260779091529081208054349290610fe590849061392a565b9250508190555034606c6000828254610ffe919061392a565b9091555061100d905081612d9b565b7f5dac0c1b1112564a045ba943c9d50270893e8e826c49be8e7073adc713ab7bd781333460405161104093929190613d51565b60405180910390a150565b600054610100900460ff161580801561106b5750600054600160ff909116105b806110855750303b158015611085575060005460ff166001145b6110fa5760405160e560020a62461bcd02815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401610993565b6000805460ff19166001179055801561111d576000805461ff0019166101001790555b611125612fa0565b606587905560668690556067859055606d805473ffffffffffffffffffffffffffffffffffffffff191633179055604080516060810182528581526020810185905201829052607c849055607d839055607e8290556101f460695580156111c6576000805461ff0019169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b50505050505050565b6112016040518060a0016040528060008152602001600081526020016000815260200160008152602001600081525090565b600160a060020a038084166000908152607b602090815260408083209386168352928152828220835160a081018552815481526001820154928101929092526002810154938201939093526003830154606082015260049092015460808301528061126c8686612fd2565b602087015187519396509094508593506112889290915061392a565b1161129457600061129a565b82602001515b60208401528183526040830180518291906112b690839061392a565b9052509195945050505050565b6112cb612a12565b607c80549082905560408051828152602081018490527f152c23f636bdeceefa623a683a92e747430a51e21cafa00468f300009faccbde9101610903565b61132d60405180606001604052806000815260200160008152602001600081525090565b5060408051606081018252607c548152607d546020820152607e549181019190915290565b61135a612a12565b600160a060020a0381166113d95760405160e560020a62461bcd02815260206004820152602660248201527f5374616b696e673a204e65772061646d696e20697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152608401610993565b606d8054600160a060020a0383811673ffffffffffffffffffffffffffffffffffffffff1983168117909355604080519190921680825260208201939093527f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f9101610903565b611448612a12565b6114526000613376565b565b60006114608383612fd2565b600160a060020a038088166000908152607b60209081526040808320938a168352929052206002015490945061149b9350915083905061392a565b9392505050565b600160a060020a038082166000908152607a6020908152604091829020825161014081018452815481526001820154928101929092526002810154928201929092526003820154606082015260048201546080820152600582015460a0820152600682015460c0820152600782015460e08201526008820154610100820152600990910154909116610120820181905233146115a95760405160e560020a62461bcd02815260206004820152603860248201527f43616c6c65722063616e6e6f7420626520746865206d696e6572206f6620746860448201527f6520737065636966696564207374616b696e6720706f6f6c00000000000000006064820152608401610993565b600160a060020a0382166000908152607a602052604081206004015560808101511561166057608081015133600090815260796020526040812080549091906115f3908490613d02565b90915550506080810151604051339180156108fc02916000818181858888f19350505050158015611628573d6000803e3d6000fd5b507f3eddff43ab85ca53728573d340418b4548d4ad634d8377887b6bf6c394013b968233836080015160405161090393929190613d51565b5050565b6060806000606e8054905060000361169657505060408051600080825260208201818152828401909352909250611a10565b606e5484106116c257505060408051600080825260208201908152818301909252606e54909250611a10565b606e54606954600091906116d6908761392a565b116116ed576069546116e8908661392a565b6116f1565b606e545b90506000855b828110156117635760736000606e838154811061171657611716613cd0565b6000918252602080832090910154600160a060020a0316835282019290925260400190205460ff1615611751578161174d81613ce9565b9250505b8061175b81613ce9565b9150506116f7565b508060000361179457505060408051600080825260208201908152818301909252606e549094509092509050611a10565b60008167ffffffffffffffff8111156117af576117af613b71565b6040519080825280602002602001820160405280156117d8578160200160208202803683370190505b50905060008267ffffffffffffffff8111156117f6576117f6613b71565b60405190808252806020026020018201604052801561181f578160200160208202803683370190505b50905082885b858110156119fc5760736000606e838154811061184457611844613cd0565b6000918252602080832090910154600160a060020a0316835282019290925260400190205460ff16156119ea57606e818154811061188457611884613cd0565b600091825260209091200154600160a060020a0316846118a48488613d02565b815181106118b4576118b4613cd0565b6020026020010190600160a060020a03169081600160a060020a0316815250506000607a600060766000606e86815481106118f1576118f1613cd0565b6000918252602080832090910154600160a060020a0390811684528382019490945260409283018220548416855284810195909552928101909220825161014081018452815481526001820154948101859052600282015493810184905260038201546060820181905260048301546080830152600583015460a0830152600683015460c0830152600783015460e0830152600883015461010083015260099092015490921661012083015290935090916119ab9161392a565b6119b5919061392a565b846119c08589613d02565b815181106119d0576119d0613cd0565b6020908102919091010152826119e581613d75565b935050505b806119f481613ce9565b915050611825565b5050606e5491965094509250611a10915050565b9193909250565b611a1f612a12565b606f5415611a725760405160e560020a62461bcd02815260206004820152601960248201527f457863657074696f6e20696e697469616c697a6174696f6e2e000000000000006044820152606401610993565b346067548251611a829190613d15565b611a8d906002613d15565b14611add5760405160e560020a62461bcd02815260206004820152601260248201527f6e6f7420706179696e6720656e6f7567682e00000000000000000000000000006044820152606401610993565b60005b815181101561166057611b0b828281518110611afe57611afe613cd0565b60200260200101516133d5565b80611b1581613ce9565b915050611ae0565b611b25612a12565b606780549082905560408051828152602081018490527f5fadc36b330bdc535599665363f02829bb8cad83b1a73fb023c454be267b23bb9101610903565b611bc26040518061014001604052806000815260200160008152602001600081526020016000815260200160008152602001600081526020016000815260200160008152602001600081526020016000600160a060020a031681525090565b600160a060020a038083166000908152607a60209081526040808320815161014081018352815481526001820154938101939093526002810154918301919091526003810154606083015260048101546080830152600581015460a0830152600681015460c0830152600781015460e0830152600881015461010083015260090154909216610120830152611c578482612fd2565b5060408501516020860151919450849350611c7392509061392a565b11611c7f576000611c85565b81604001515b6040830152602082015292915050565b600160a060020a038082166000908152607a6020908152604091829020825161014081018452815481526001820154928101929092526002810154928201929092526003820154606082015260048201546080820152600582015460a0820152600682015460c0820152600782015460e0820152600882015461010082015260099091015490911661012082018190523314611d465"
															  "760405160e560020a62461bcd02815260040161099390613d8c565b3360009081526074602052604090205460ff16611da85760405160e560020a62461bcd02815260206004820181905260248201527f5374616b696e673a2043616c6c6572206973206e6f742061207769746e6573736044820152606401610993565b336000908152607360209081526040808320805460ff19908116909155607490925290912080549091169055606854611de290600161392a565b600160a060020a0383166000818152607a60209081526040808320600801949094556075815290839020805460ff19169055825191825233908201527f63b8362693f57e4c1b276bd0c9580ad3692b8c9121d94b72aa8efdb615ead2159101610903565b611e508133612a6f565b600160a060020a0381166000908152607b60209081526040808320338452909152902060020154801561166057600160a060020a0382166000908152607b6020908152604080832033808552925280832060020183905551909183156108fc02918491818181858888f19350505050158015611ed0573d6000803e3d6000fd5b507f7e77f685b38c861064cb08f2776eb5dfd3c82f652ed9f21221b8c53b75628e5182338360405161090393929190613d51565b611f0c612a12565b607d80549082905560408051828152602081018490527f09021411f3ba57aaca6b349a1ef8e489c8b42e01c9459d751c2bdcd0060fc06c9101610903565b33600090815260766020526040902054600160a060020a031615611fd95760405160e560020a62461bcd02815260206004820152602260248201527f5374616b696e673a2043616c6c657220697320616c72656164792061206d696e60448201527f65720000000000000000000000000000000000000000000000000000000000006064820152608401610993565b60648111156120535760405160e560020a62461bcd02815260206004820152603860248201527f437573746f6d2063726561746f722073686172652070657263656e746167652060448201527f63616e6e6f74206265206d6f7265207468616e203130302500000000000000006064820152608401610993565b60675434146120cd5760405160e560020a62461bcd02815260206004820152602660248201527f496e636f72726563742063726561746f72207061796d656e74207374616b652060448201527f616d6f756e7400000000000000000000000000000000000000000000000000006064820152608401610993565b60006120d833613744565b9050806076600033600160a060020a0316600160a060020a0316815260200190815260200160002060006101000a815481600160a060020a030219169083600160a060020a0316021790555060016075600083600160a060020a0316600160a060020a0316815260200190815260200160002060006101000a81548160ff021916908315150217905550606f819080600181540180825580915050600190039060005260206000200160009091909190916101000a815481600160a060020a030219169083600160a060020a03160217905550604051806101400160405280606554815260200160008152602001600081526020013481526020016000815260200183815260200160008152602001600081526020016000815260200133600160a060020a0316815250607a600083600160a060020a0316600160a060020a03168152602001908152602001600020600082015181600001556020820151816001015560408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e0820151816007015561010082015181600801556101208201518160090160006101000a815481600160a060020a030219169083600160a060020a031602179055509050506067546077600033600160a060020a0316600160a060020a0316815260200190815260200160002060008282546122ea919061392a565b9091555050606754606c805460009061230490849061392a565b90915550612313905081612d9b565b606a805490600061232383613ce9565b909155505060655460675460408051338152600160a060020a0385166020820152908101929092526060820184905260808201527f35a6ab5783db1dc85fee1aa6632c4402d51dbbf441e48c8846025fed1d80cb609060a001610903565b612389612a12565b606680549082905560408051828152602081018490527f43249c0652af9d1bb7b479e9cc224a24177275383ae9e68c79929f5b751779059101610903565b600160a060020a0381166000908152607b602090815260408083203384528252808320815160a08101835281548082526001830154948201859052600283015493820193909352600382015460608201526004909101546080820152929161242e9161392a565b1161247e5760405160e560020a62461bcd02815260206004820181905260248201527f5374616b696e67506f6f6c3a204e6f207374616b6520746f20756e7374616b656044820152606401610993565b6124888233612a6f565b600160a060020a0382166000908152607b602090815260408083203384528252808320815160a0810183528154808252600183015494820185905260028301549382019390935260038201546060820152600490910154608082015292916124ef9161392a565b60208301519091501561254c57600160a060020a0384166000818152607b60209081526040808320338452825280832060010183905585820151938352607a90915281206002018054909190612546908490613d02565b90915550505b81511561259e57600160a060020a0384166000818152607b6020908152604080832033845282528083208390558551938352607a90915281206001018054909190612598908490613d02565b90915550505b33600090815260776020526040812080548392906125bd908490613d02565b9250508190555080606c60008282546125d69190613d02565b9091555050604051339082156108fc029083906000818181858888f19350505050158015612608573d6000803e3d6000fd5b506126128461379a565b7fd8654fcc8cf5b36d30b3f5e4688fc78118e6d68de60b9994e09902268b57c3e384338360405161264593929190613d51565b60405180910390a150505050565b61265b612a12565b600160a060020a0381166126da5760405160e560020a62461bcd02815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152608401610993565b6126e381613376565b50565b600160a060020a038082166000908152607a6020908152604091829020825161014081018452815481526001820154928101929092526002810154928201929092526003820154606082015260048201546080820152600582015460a0820152600682015460c0820152600782015460e08201526008820154610100820152600990910154909116610120820181905233146127975760405160e560020a62461bcd02815260040161099390613d8c565b3360009081526073602052604090205460ff161580156127c757503360009081526074602052604090205460ff16155b6128165760405160e560020a62461bcd02815260206004820181905260248201527f5374616b696e673a20496e76616c6964207769746e65737320616464726573736044820152606401610993565b3360009081526074602052604090205460ff16156128be5761010081015115801590612849575060685481610100015111155b6128be5760405160e560020a62461bcd02815260206004820152602b60248201527f5374616b696e673a2043616e6e6f7420756e7374616b6520647572696e67206c60448201527f6f636b65642065706f63680000000000000000000000000000000000000000006064820152608401610993565b600160a060020a0382166000908152607a602090815260408083206003018390556060840151338452607790925282208054919290916128ff908490613d02565b90915550506060810151606c805460009061291b908490613d02565b90915550506060810151604051339180156108fc02916000818181858888f19350505050158015612950573d6000803e3d6000fd5b503360008181526076602052604090819020805473ffffffffffffffffffffffffffffffffffffffff19169055606083015190517fc3ad27fe98c025cdf623f62d85b3f62ae6129594552ca746845a6ed0bf317dc0926129b1928692613d51565b60405180910390a160808101511561166057611660826114a2565b6129d4612a12565b607e80549082905560408051828152602081018490527f1eea489ff21f40ce106c2a0208d218f52f3ff2a459a770a48144ff6aafd8a9fa9101610903565b603354600160a060020a031633146114525760405160e560020a62461bcd02815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610993565b600080600080612a7f8686612fd2565b93509350935093506000607a600088600160a060020a0316600160a060020a03168152602001908152602001600020604051806101400160405290816000820154815260200160018201548152602001600282015481526020016003820154815260200160048201548152602001600582015481526020016006820154815260200160078201548152602001600882015481526020016009820160009054906101000a9004600160a060020a0316600160a060020a0316600160a060020a03168152505090506000607b600089600160a060020a0316600160a060020a03168152602001908152602001600020600088600160a060020a0316600160a060020a031681526020019081526020016000206040518060a00160405290816000820154815260200160018201548152602001600282015481526020016003820154815260200160048201548152505090506070600089600160a060020a0316600160a060020a0316815260200190815260200160002060008360e001518152602001908152602001600020548614612c4957600160a060020a03881660008181526070602090815260408083206068805485529083528184208b905554938352607a9091529020600701555b60208101518151612c5a919061392a565b8503612c8f57600160a060020a038881166000908152607b60209081526040808320938b168352929052908120868155600101555b81604001518260200151612ca3919061392a565b8403612ccd57600160a060020a0388166000908152607a6020526040812060018101869055600201555b8215612d1357600160a060020a038089166000908152607b60209081526040808320938b1683529290529081206002018054859290612d0d90849061392a565b90915550505b600160a060020a03881660009081526071602052604090205415612d4b57600160a060020a0388166000908152607160205260408120555b50600160a060020a03968716600081815260706020908152604080832060e090950151835293815283822054928252607b8152838220989099168152969097529094206004019490945550505050565b600160a060020a038082166000908152607a602090815260409182902082516101408101845281548082526001830154938201849052600283015494820185905260038301546060830181905260048401546080840152600584015460a0840152600684015460c0840152600784015460e08401526008840154610100840152600990930154909516610120820152939291612e37919061392a565b612e41919061392a565b10158015612e6d5750610120810151600160a060020a031660009081526073602052604090205460ff16155b156116605761012081018051600160a060020a0390811660009081526073602090815260408083208054600160ff1991821681179092558651861685526074845282852080549091169091179055935190921681526072909152908120549003612f5957606e54612edf90600161392a565b61012082018051600160a060020a039081166000908152607260205260408120939093559051606e805460018101825593527f9930d9ff0dee0ef5ca2f7710ea66b8f84dd0f5f5351ecffe72b952cd9db7142a909201805473ffffffffffffffffffffffffffffffffffffffff1916929091169190911790555b61012081015160408051600160a060020a03808616825290921660208301527f4fee3a5d7636617eca279e9d93680bd7d2ecdfaef53aa19eeac947bc7227e5cb9101610903565b600054610100900460ff16612fca5760405160e560020a62461bcd02815260040161099390613de9565b6114526138de565b600160a060020a038083166000818152607b6020908152604080832086861684528252808320815160a0808201845282548252600180840154838701526002808501548487015260038086015460608087019182526004978801546080808901919091529b8b52607a8a52888b20895161014081018b5281548152958101549a86019a909a529289015497840197909752870154908201529285015496830196909652600584015495820195909552600683015460c0820152600783015460e0820152600883015461010082015260099092015490941661012082015282516068549451929490938593849391921180156130d05750602082015115155b156130e75760208201516130e4908661392a565b94505b806020015193506068548160c001511080156131065750604081015115155b1561311d57604081015161311a908561392a565b93505b6068548160e001511080156131495750600160a060020a03881660009081526071602052604090205415155b801561315457508315155b156131f957600160a060020a038816600090815260716020526040902054849061318790670de0b6b3a764000090613d15565b6131919190613d2c565b600160a060020a038916600090815260706020908152604080832060e086015184529091529020546131c3919061392a565b95506068548160c001511480156131dd5750604081015115155b156131f45760408101516131f1908561392a565b93505b613224565b600160a060020a038816600090815260706020908152604080832060e0850151845290915290205495505b606854606083015161323790600161392a565b0361327257670de0b6b3a76400008260800151876132559190613d02565b83516132619190613d15565b61326b9190613d2c565b925061336b565b600160a060020a03881660009081526070602090815260408083206060860151845290915281205490036132c357670de0b6b3a76400008260800151876132b99190613d02565b6132619087613d15565b6080820151600160a060020a03891660009081526070602090815260408083206060870151845290915281205490916132fb91613d02565b83516133079190613d15565b600160a060020a038a166000908152607060209081526040808320606088015184529091528120549192509061333d9089613d02565b6133479088613d15565b9050670de0b6b3a764000061335c828461392a565b6133669190613d2c565b945050505b505092959194509250565b60338054600160a060020a0383811673ffffffffffffffffffffffffffffffffffffffff19831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b60006133e082613744565b9050806076600084600160a060020a0316600160a060020a0316815260200190815260200160002060006101000a815481600160a060020a030219169083600160a060020a0316021790555060016075600083600160a060020a0316600160a060020a0316815260200190815260200160002060006101000a81548160ff021916908315150217905550606f819080600181540180825580915050600190039060005260206000200160009091909190916101000a815481600160a060020a030219169083600160a060020a03160217905550604051806101400160405280606554815260200160008152602001600081526020016067548152602001600081526020016064815260200160008152602001600081526020016000815260200183600160a060020a0316815250607a600083600160a060020a0316600160a060020a03168152602001908152602001600020600082015181600001556020820151816001015560408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e0820151816007015561010082015181600801556101208201518160090160006101000a815481600160a060020a030219169083600160a060020a03160217905550905050606a60008154809291906135d190613ce9565b909155505060655460675460408051600160a060020a03808716825285166020820152908101929092526064606083015260808201527f35a6ab5783db1dc85fee1aa6632c4402d51dbbf441e48c8846025fed1d80cb609060a00160405180910390a1606754600160a060020a038083166000908152607b602090815260408083209387168352929052908120805490919061366e90849061392a565b9091555050606754600160a060020a0382166000908152607a6020526040812060010180549091906136a190849061392a565b90915550506067546136b4906002613d15565b600160a060020a038316600090815260776020526040812080549091906136dc90849061392a565b90915550506067546136ef906002613d15565b606c6000828254613700919061392a565b9091555061370f905081612d9b565b7f5dac0c1b1112564a045ba943c9d50270893e8e826c49be8e7073adc713ab7bd7818360675460405161090393929190613d51565b606a546040516c01000000000000000000000000600160a060020a038416026020820152436034820152605481019190915260009060740160408051601f19818403018152919052805160209091012092915050565b600160a060020a038082166000908152607a602090815260409182902082516101408101845281548082526001830154938201849052600283015494820185905260038301546060830181905260048401546080840152600584015460a0840152600684015460c0840152600784015460e08401526008840154610100840152600990930154909516610120820152939291613836919061392a565b613840919061392a565b10801561386a5750610120810151600160a060020a031660009081526073602052604090205460ff165b156116605761012081018051600160a060020a031660009081526073602052604090819020805460ff19169055905190517fb0bea5ad4eb9c900db2eac731253027b7c7cb282a134ef0dfdbe2357c6c147f79161090391859190600160a060020a0392831681529116602082015260400190565b600054610100900460ff166139085760405160e560020a62461bcd02815260040161099390613de9565b61145233613376565b60e060020a634e487b7102600052601160045260246000fd5b8082018082111561093457610934613911565b60006020828403121561394f57600080fd5b5035919050565b8035600160a060020a038116811461396d57600080fd5b919050565b6000806040838503121561398557600080fd5b61398e83613956565b946020939093013593505050565b60008083601f8401126139ae57600080fd5b50813567ffffffffffffffff8111156139c657600080fd5b60208301915083602080830285010111156139e057600080fd5b9250929050565b600080600080604085870312156139fd57600080fd5b843567ffffffffffffffff80821115613a1557600080fd5b613a218883890161399c565b90965094506020870135915080821115613a3a57600080fd5b50613a478782880161399c565b95989497509550505050565b600060208284031215613a6557600080fd5b61149b82613956565b6000806000806000"
															  "8060c08789031215613a8757600080fd5b505084359660208601359650604086013595606081013595506080810135945060a0013592509050565b60008060408385031215613ac457600080fd5b613acd83613956565b9150613adb60208401613956565b90509250929050565b606080825284519082018190526000906020906080840190828801845b82811015613b26578151600160a060020a031684529284019290840190600101613b01565b5050508381038285015285518082528683019183019060005b81811015613b5b57835183529284019291840191600101613b3f565b5050809350505050826040830152949350505050565b60e060020a634e487b7102600052604160045260246000fd5b60006020808385031215613b9d57600080fd5b823567ffffffffffffffff80821115613bb557600080fd5b818501915085601f830112613bc957600080fd5b813581811115613bdb57613bdb613b71565b838102604051601f19603f83011681018181108582111715613bff57613bff613b71565b604052918252848201925083810185019188831115613c1d57600080fd5b938501935b82851015613c4257613c3385613956565b84529385019392850192613c22565b98975050505050505050565b600061014082019050825182526020830151602083015260408301516040830152606083015160608301526080830151608083015260a083015160a083015260c083015160c083015260e083015160e083015261010080840151818401525061012080840151613cc882850182600160a060020a03169052565b505092915050565b60e060020a634e487b7102600052603260045260246000fd5b600060018201613cfb57613cfb613911565b5060010190565b8181038181111561093457610934613911565b808202811582820484141761093457610934613911565b600082613d4c5760e060020a634e487b7102600052601260045260246000fd5b500490565b600160a060020a039384168152919092166020820152604081019190915260600190565b600081613d8457613d84613911565b506000190190565b60208082526034908201527f5374616b696e673a2043616c6c6572206973206e6f7420746865206d696e657260408201527f206f6620746865207374616b696e6720706f6f6c000000000000000000000000606082015260800190565b6020808252602b908201527f496e697469616c697a61626c653a20636f6e7472616374206973206e6f74206960408201527f6e697469616c697a696e6700000000000000000000000000000000000000000060608201526080019056fea2646970667358221220f32f34041aa50d9dab321b6aa028a9327c2fe16df27ff8bfedd52b2aefb6c63964736f6c63430008120033"
	));
	const dev::bytes MainContractByteCodeProxy(dev::fromHex("6080604052604051620010f7380380620010f783398101604081905262000026916200062f565b82816200005560017f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbd6200070f565b600080516020620010b0833981519152146200007557620000756200074a565b6200008c82826000640100000000620000f9810204565b50620000bc905060017fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61046200070f565b6000805160206200109083398151915214620000dc57620000dc6200074a565b620000f08264010000000062000142810204565b505050620007cc565b6200010d83640100000000620001af810204565b6000825111806200011b5750805b156200013d576200013b83836401000000006200024a620001fa82021704565b505b505050565b7f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f6200017664010000000062000234810204565b60408051600160a060020a03928316815291841660208301520160405180910390a1620001ac816401000000006200026d810204565b50565b620001c38164010000000062000353810204565b604051600160a060020a038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b60606200022b8383604051806060016040528060278152602001620010d06027913964010000000062000423810204565b90505b92915050565b60006200025e60008051602062001090833981519152640100000000620002066200055382021704565b54600160a060020a0316919050565b600160a060020a03811662000309576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f455243313936373a206e65772061646d696e20697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b806200033260008051602062001090833981519152640100000000620002066200055382021704565b8054600160a060020a031916600160a060020a039290921691909117905550565b6200036c81640100000000620002766200055682021704565b620003fa576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201527f6f74206120636f6e747261637400000000000000000000000000000000000000606482015260840162000300565b8062000332600080516020620010b0833981519152640100000000620002066200055382021704565b6060620004398464010000000062000556810204565b620004c7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f60448201527f6e74726163740000000000000000000000000000000000000000000000000000606482015260840162000300565b60008085600160a060020a031685604051620004e4919062000779565b600060405180830381855af49150503d806000811462000521576040519150601f19603f3d011682016040523d82523d6000602084013e62000526565b606091505b50915091506200054782828662000565640100000000026401000000009004565b925050505b9392505050565b90565b600160a060020a03163b151590565b60608315620005765750816200054c565b825115620005875782518084602001fd5b816040517f08c379a000000000000000000000000000000000000000000000000000000000815260040162000300919062000797565b8051600160a060020a0381168114620005d557600080fd5b919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60005b83811015620006265781810151838201526020016200060c565b50506000910152565b6000806000606084860312156200064557600080fd5b6200065084620005bd565b92506200066060208501620005bd565b9150604084015167ffffffffffffffff808211156200067e57600080fd5b818601915086601f8301126200069357600080fd5b815181811115620006a857620006a8620005da565b604051601f8201601f19908116603f01168101908382118183101715620006d357620006d3620005da565b81604052828152896020848701011115620006ed57600080fd5b6200070083602083016020880162000609565b80955050505050509250925092565b818103818111156200022e577f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052600160045260246000fd5b600082516200078d81846020870162000609565b9190910192915050565b6020815260008251806020840152620007b881604085016020870162000609565b601f01601f19169190910160400192915050565b6108b480620007dc6000396000f3fe60806040526004361061006a577c010000000000000000000000000000000000000000000000000000000060003504633659cfe681146100815780634f1ef286146100a15780635c60da1b146100b45780638f283970146100e5578063f851a4401461010557610079565b366100795761007761011a565b005b61007761011a565b34801561008d57600080fd5b5061007761009c366004610746565b610134565b6100776100af366004610761565b610171565b3480156100c057600080fd5b506100c96101d8565b604051600160a060020a03909116815260200160405180910390f35b3480156100f157600080fd5b50610077610100366004610746565b610209565b34801561011157600080fd5b506100c9610229565b610122610285565b61013261012d610338565b610342565b565b61013c610366565b600160a060020a031633036101695761016681604051806020016040528060008152506000610399565b50565b61016661011a565b610179610366565b600160a060020a031633036101d0576101cb8383838080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525060019250610399915050565b505050565b6101cb61011a565b60006101e2610366565b600160a060020a031633036101fe576101f9610338565b905090565b61020661011a565b90565b610211610366565b600160a060020a0316330361016957610166816103c4565b6000610233610366565b600160a060020a031633036101fe576101f9610366565b606061026f838360405180606001604052806027815260200161085860279139610418565b9392505050565b600160a060020a03163b151590565b61028d610366565b600160a060020a031633036101325760405160e560020a62461bcd02815260206004820152604260248201527f5472616e73706172656e745570677261646561626c6550726f78793a2061646d60448201527f696e2063616e6e6f742066616c6c6261636b20746f2070726f7879207461726760648201527f6574000000000000000000000000000000000000000000000000000000000000608482015260a4015b60405180910390fd5b60006101f961050f565b3660008037600080366000845af43d6000803e808015610361573d6000f35b3d6000fd5b60007fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035b54600160a060020a0316919050565b6103a283610537565b6000825111806103af5750805b156101cb576103be838361024a565b50505050565b7f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f6103ed610366565b60408051600160a060020a03928316815291841660208301520160405180910390a161016681610577565b6060600160a060020a0384163b61049a5760405160e560020a62461bcd02815260206004820152602660248201527f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f60448201527f6e74726163740000000000000000000000000000000000000000000000000000606482015260840161032f565b60008085600160a060020a0316856040516104b59190610808565b600060405180830381855af49150503d80600081146104f0576040519150601f19603f3d011682016040523d82523d6000602084013e6104f5565b606091505b5091509150610505828286610647565b9695505050505050565b60007f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc61038a565b61054081610683565b604051600160a060020a038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b600160a060020a0381166105f65760405160e560020a62461bcd02815260206004820152602660248201527f455243313936373a206e65772061646d696e20697320746865207a65726f206160448201527f6464726573730000000000000000000000000000000000000000000000000000606482015260840161032f565b807fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035b805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905550565b6060831561065657508161026f565b8251156106665782518084602001fd5b8160405160e560020a62461bcd02815260040161032f9190610824565b600160a060020a0381163b6107035760405160e560020a62461bcd02815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201527f6f74206120636f6e747261637400000000000000000000000000000000000000606482015260840161032f565b807f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc610619565b8035600160a060020a038116811461074157600080fd5b919050565b60006020828403121561075857600080fd5b61026f8261072a565b60008060006040848603121561077657600080fd5b61077f8461072a565b9250602084013567ffffffffffffffff8082111561079c57600080fd5b818601915086601f8301126107b057600080fd5b8135818111156107bf57600080fd5b8760208285010111156107d157600080fd5b6020830194508093505050509250925092565b60005b838110156107ff5781810151838201526020016107e7565b50506000910152565b6000825161081a8184602087016107e4565b9190910192915050565b60208152600082518060208401526108438160408501602087016107e4565b601f01601f1916919091016040019291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a26469706673582212206f0280622bf3f143ca65327f5733e3bc7757d1e99fc2ab0c1a9979004626b6e464736f6c63430008120033b53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c656400000000000000000000000049cb0b59687de084c5888fbb687bc9a8af40372f000000000000000000000000eee0939ec6a77d83a8ad91281f5f434f16ee6928000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000c42d7aa82b00000000000000000000000000000000000000000001a784379d99db4200000000000000000000000000000000000000000000000000021e19e0c9bab240000000000000000000000000000000000000000000000000d3c21bcecceda100000000000000000000000000000000000000000000000000021e19e0c9bab24000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000"));

	const std::string MainContractABI = "[{\"inputs\":[],\"name\":\"getInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"onMci\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"notOnMci\",\"type\":\"uint256\"}],\"internalType\":\"struct DepositContract.Info\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\",\"constant\":true},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"start\",\"type\":\"uint256\"}],\"name\":\"getWitnesses\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\",\"constant\":true},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"witnesses\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"amounts\",\"type\":\"uint256[]\"}],\"name\":\"distributeRewards\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"initWitnessList\",\"type\":\"address[]\"}],\"name\":\"initWitnesses\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\",\"payable\":true}]";
	const dev::Address MainContractAddress = dev::Address("0x8323Faf4203cB1eE1956100D3197803d7F7955d3");
	const dev::Address MainCallcAddress = dev::Address("0x92415ac021B91045E9bfF73334640c6A0e099069");

	Transactions InitMainContractTransaction();

	class MainContractCaller
	{
	public:
		MainContractCaller() {}
		MainContractCaller(dev::BoundContract _contract) :contract(_contract) {}

		/// write contract
		dev::bytes DistributeRewards(std::map<dev::Address, u256> const& _v);

		/// write contract. just for initializer.
		dev::bytes InitWitnesses(WitnessList const& _v);

		///read contract; staking list
		std::pair<StakingList, int> GetWitnesses(int const& start = 0);

		///read contract; main info
		MainInfo GetMainInfo();
	private:
		dev::CallOpts DefaultOpts{ MainCallcAddress };
		dev::BoundContract contract;
	};

	MainContractCaller NewMainContractCaller(dev::ContractCaller const& _caller);
	///ContractCaller instance
	extern MainContractCaller MainCaller;
}
