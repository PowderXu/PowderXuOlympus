#pragma once
#include "transaction.hpp"
#include "common.hpp"
#include <account/base.hpp>
#include <libdevcore/Address.h>

namespace mcp
{
	const std::string DENContractABI = "[{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"name\":\"stores4\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"intstores\",\"type\":\"int256\"},{\"internalType\":\"address\",\"name\":\"addressstores\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"stringstores\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"boolstores\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"bytesstores\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\",\"constant\":true},{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"key\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"v1\",\"type\":\"int256\"},{\"internalType\":\"address\",\"name\":\"v2\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"v3\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"v4\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"v5\",\"type\":\"bytes\"}],\"name\":\"setreturns\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"key\",\"type\":\"int256\"}],\"name\":\"getreturns\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\",\"constant\":true}]";
	const dev::Address DENContractAddress = dev::Address("0xD2b53c6dcF4EB754DE108ec0420EE7EcfC1223B3");
	const dev::Address DENcallcAddress = dev::Address("0x1144b522f45265c2dfdbaee8e324719e63a1694c");

	class DENContractCaller
	{
	public:
		DENContractCaller(){}
		DENContractCaller(dev::BoundContract _contract) :contract(_contract) {}

		//demo
		// returns int v1, dev::Address v2, std::string v3, bool v4, dev::bytes v5
		template<typename... Args>
		void getreturns(int & v1, dev::h160& v2, std::string& v3, bool& v4, dev::bytes& v5, Args const&... args);
	private:
		dev::BoundContract contract;
	};

	DENContractCaller NewDENContractCaller(dev::ContractCaller const& _caller);

	/// args: abi input
	/// v1,v2,v3,v4,v5 return values
	template<typename... Args>
	inline void DENContractCaller::getreturns(int & v1, dev::h160& v2, std::string& v3, bool& v4, dev::bytes& v5, Args const&... args)
	{
		std::string method = "getreturns";
		dev::CallOpts opts{ DENcallcAddress };
		dev::bytes ret = contract.Call(&opts, method, args...);
		contract.Unpack(method, ret, v1, v2, v3, v4, v5);
	}

	///ContractCaller instance
	extern DENContractCaller DENCaller;

	///mainnet witness contract
	const dev::bytes MainContractByteCodeAdmin(dev::fromHex("608060405234801561001057600080fd5b50610033610025640100000000610038810204565b64010000000061003c810204565b61008c565b3390565b60008054600160a060020a03838116600160a060020a0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6108068061009b6000396000f3fe608060405260043610610098576000357c0100000000000000000000000000000000000000000000000000000000900480639623609d1161006b5780639623609d1461012e57806399a88ec414610141578063f2fde38b14610161578063f3b7dead1461018157600080fd5b8063204e1c7a1461009d578063715018a6146100d95780637eff275e146100f05780638da5cb5b14610110575b600080fd5b3480156100a957600080fd5b506100bd6100b83660046105bd565b6101a1565b604051600160a060020a03909116815260200160405180910390f35b3480156100e557600080fd5b506100ee61024b565b005b3480156100fc57600080fd5b506100ee61010b3660046105e1565b61028d565b34801561011c57600080fd5b50600054600160a060020a03166100bd565b6100ee61013c366004610649565b610333565b34801561014d57600080fd5b506100ee61015c3660046105e1565b6103e0565b34801561016d57600080fd5b506100ee61017c3660046105bd565b610454565b34801561018d57600080fd5b506100bd61019c3660046105bd565b61050c565b600080600083600160a060020a03166040516101e0907f5c60da1b00000000000000000000000000000000000000000000000000000000815260040190565b600060405180830381855afa9150503d806000811461021b576040519150601f19603f3d011682016040523d82523d6000602084013e610220565b606091505b50915091508161022f57600080fd5b80806020019051810190610243919061071f565b949350505050565b600054600160a060020a031633146102815760405160e560020a62461bcd0281526004016102789061073c565b60405180910390fd5b61028b600061054b565b565b600054600160a060020a031633146102ba5760405160e560020a62461bcd0281526004016102789061073c565b6040517f8f283970000000000000000000000000000000000000000000000000000000008152600160a060020a038281166004830152831690638f283970906024015b600060405180830381600087803b15801561031757600080fd5b505af115801561032b573d6000803e3d6000fd5b505050505050565b600054600160a060020a031633146103605760405160e560020a62461bcd0281526004016102789061073c565b6040517f4f1ef286000000000000000000000000000000000000000000000000000000008152600160a060020a03841690634f1ef2869034906103a99086908690600401610771565b6000604051808303818588803b1580156103c257600080fd5b505af11580156103d6573d6000803e3d6000fd5b5050505050505050565b600054600160a060020a0316331461040d5760405160e560020a62461bcd0281526004016102789061073c565b6040517f3659cfe6000000000000000000000000000000000000000000000000000000008152600160a060020a038281166004830152831690633659cfe6906024016102fd565b600054600160a060020a031633146104815760405160e560020a62461bcd0281526004016102789061073c565b600160a060020a0381166105005760405160e560020a62461bcd02815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152608401610278565b6105098161054b565b50565b600080600083600160a060020a03166040516101e0907ff851a44000000000000000000000000000000000000000000000000000000000815260040190565b60008054600160a060020a0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600160a060020a038116811461050957600080fd5b6000602082840312156105cf57600080fd5b81356105da816105a8565b9392505050565b600080604083850312156105f457600080fd5b82356105ff816105a8565b9150602083013561060f816105a8565b809150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60008060006060848603121561065e57600080fd5b8335610669816105a8565b92506020840135610679816105a8565b9150604084013567ffffffffffffffff8082111561069657600080fd5b818601915086601f8301126106aa57600080fd5b8135818111156106bc576106bc61061a565b604051601f8201601f19908116603f011681019083821181831017156106e4576106e461061a565b816040528281528960208487010111156106fd57600080fd5b8260208601602083013760006020848301015280955050505050509250925092565b60006020828403121561073157600080fd5b81516105da816105a8565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b600160a060020a038316815260006020604081840152835180604085015260005b818110156107ae57858101830151858201606001528201610792565b506000606082860101526060601f19601f83011685010192505050939250505056fea2646970667358221220141cc3313c94a2490cd4e1df95895ce31b9c0a28617cb14d5504235c815b381964736f6c63430008120033"));
	const dev::bytes MainContractByteCodeDeposit(dev::fromHex("608060405234801561001057600080fd5b50613d51806100206000396000f3fe608060405260043610610293576000357c01000000000000000000000000000000000000000000000000000000009004806389c4e9301161016c578063d279c191116100de578063f2888dbb11610097578063f2888dbb14610829578063f2fde38b14610849578063f320add014610869578063f4f4239c14610889578063fa7643f4146108a9578063fecdf0a9146108e257600080fd5b8063d279c19114610737578063d2dc42d014610757578063d855cbac1461078d578063e160412d146107d6578063e8e0b4d6146107f6578063f27f74271461080957600080fd5b80639a2f055f116101305780639a2f055f146106515780639acaf226146106665780639e614e0e1461067b578063b2a0629a146106a8578063b61e30b7146106e1578063cc6c2ada1461071757600080fd5b806389c4e930146105bc5780638cc81cc8146105eb5780638da5cb5b146106005780638f3f4ce41461061e57806393509f3e1461063157600080fd5b80635641ec03116102055780636e9960c3116101c95780636e9960c314610500578063704b6c0214610532578063715018a614610552578063757991a814610567578063779bcb9b1461057c578063893a9c271461059c57600080fd5b80635641ec031461046e5780635a1fbc14146104835780635a9b0b8914610498578063612b8864146104cf5780636ab55fd9146104e457600080fd5b806327ea6f2b1161025757806327ea6f2b146103545780632d7aa82b146103745780632debd43a1461039457806339a1ffaa146103f65780633a44cbf214610416578063417243c91461044c57600080fd5b80630ab4d69f146102b75780630ee70ebc146102d9578063143ba4f31461030c57806314c2a1bc1461032c578063264762041461034157600080fd5b366102b25734606b60008282546102aa91906137d5565b925050819055005b600080fd5b3480156102c357600080fd5b506102d76102d23660046137e8565b6108f7565b005b3480156102e557600080fd5b506102f96102f436600461381d565b610945565b6040519081526020015b60405180910390f35b34801561031857600080fd5b506102d7610327366004613892565b610970565b34801561033857600080fd5b50606c546102f9565b6102d761034f3660046138fe565b610d76565b34801561036057600080fd5b506102d761036f3660046137e8565b606955565b34801561038057600080fd5b506102d761038f366004613919565b610fb7565b3480156103a057600080fd5b506103b46103af36600461395c565b61113b565b6040516103039190600060a082019050825182526020830151602083015260408301516040830152606083015160608301526080830151608083015292915050565b34801561040257600080fd5b506102d76104113660046137e8565b61122f565b34801561042257600080fd5b506102f96104313660046138fe565b600160a060020a031660009081526072602052604090205490565b34801561045857600080fd5b50610461611275565b60405161030391906139d3565b34801561047a57600080fd5b506102d76112d7565b34801561048f57600080fd5b50606e546102f9565b3480156104a457600080fd5b506104ad611307565b6040805182518152602080840151908201529181015190820152606001610303565b3480156104db57600080fd5b506067546102f9565b3480156104f057600080fd5b506102f9670de0b6b3a764000081565b34801561050c57600080fd5b50606d54600160a060020a03165b604051600160a060020a039091168152602001610303565b34801561053e57600080fd5b506102d761054d3660046138fe565b611350565b34801561055e57600080fd5b506102d761143e565b34801561057357600080fd5b506068546102f9565b34801561058857600080fd5b506102f961059736600461395c565b611452565b3480156105a857600080fd5b506102d76105b73660046138fe565b6114a0565b3480156105c857600080fd5b506105dc6105d73660046137e8565b611639565b604051610303939291906139e6565b3480156105f757600080fd5b506065546102f9565b34801561060c57600080fd5b50603354600160a060020a031661051a565b6102d761062c366004613a5f565b6119ec565b34801561063d57600080fd5b506102d761064c3660046137e8565b611af2565b34801561065d57600080fd5b50606b546102f9565b34801561067257600080fd5b506066546102f9565b34801561068757600080fd5b5061069b6106963660046138fe565b611b38565b6040516103039190613b23565b3480156106b457600080fd5b5061051a6106c33660046138fe565b600160a060020a039081166000908152607560205260409020541690565b3480156106ed57600080fd5b506102f96106fc3660046138fe565b600160a060020a031660009081526076602052604090205490565b34801561072357600080fd5b506102d76107323660046138fe565b611c6a565b34801561074357600080fd5b506102d76107523660046138fe565b611e06565b34801561076357600080fd5b506102f96107723660046138fe565b600160a060020a031660009081526071602052604090205490565b34801561079957600080fd5b506107c66107a83660046138fe565b600160a060020a031660009081526074602052604090205460ff1690565b6040519015158152602001610303565b3480156107e257600080fd5b506102d76107f13660046137e8565b611ec4565b6102d76108043660046137e8565b611f0a565b34801561081557600080fd5b506102d76108243660046137e8565b612341565b34801561083557600080fd5b506102d76108443660046138fe565b612387565b34801561085557600080fd5b506102d76108643660046138fe565b612613565b34801561087557600080fd5b506102d76108843660046138fe565b6126a3565b34801561089557600080fd5b506102d76108a43660046137e8565b61293a565b3480156108b557600080fd5b506107c66108c43660046138fe565b600160a060020a031660009081526073602052604090205460ff1690565b3480156108ee57600080fd5b50610461612980565b6108ff6129e0565b606580549082905560408051828152602081018490527f88506fd36d00eb660416e3b6026fd8de3b5ea0e3ca86129a4f92561be6b0f20e91015b60405180910390a15050565b600160a060020a03821660009081526070602090815260408083208484529091529020545b92915050565b606d54600160a060020a031633146109d25760405160e560020a62461bcd02815260206004820181905260248201527f5374616b696e673a2043616c6c6572206973206e6f74207468652061646d696e60448201526064015b60405180910390fd5b828114610a4a5760405160e560020a62461bcd02815260206004820152602e60248201527f5374616b696e673a205769746e657373657320616e6420616d6f756e7473206c60448201527f656e677468206d69736d6174636800000000000000000000000000000000000060648201526084016109c9565b6000805b82811015610a8e57838382818110610a6857610a68613ba5565b9050602002013582610a7a91906137d5565b915080610a8681613bbe565b915050610a4e565b5080606b541015610b0a5760405160e560020a62461bcd02815260206004820152602760248201527f5374616b696e673a20496e636f727265637420746f74616c207265776172647360448201527f20616d6f756e740000000000000000000000000000000000000000000000000060648201526084016109c9565b60005b84811015610d4257600060756000888885818110610b2d57610b2d613ba5565b9050602002016020810190610b4291906138fe565b600160a060020a0390811682526020808301939093526040918201600090812054821680825260778552838220845161014081018652815481526001820154968101969096526002810154948601949094526003840154606086015260048401546080860152600584015460a08601819052600685015460c0870152600785015460e0870152600885015461010087015260099094015490921661012085015290935090606490610bf39082613bd7565b888887818110610c0557610c05613ba5565b90506020020135610c169190613bea565b610c209190613c01565b600160a060020a038416600090815260716020526040812080549293508392909190610c4d9084906137d5565b90915550819050878786818110610c6657610c66613ba5565b90506020020135610c779190613bd7565b600160a060020a03841660009081526077602052604081206004018054909190610ca29084906137d5565b90915550610cb39050836000612a3d565b7f92d8e67e11e35152e7b525077fc4cf66393423d128ce3b803453b22533c57641838a8a87818110610ce757610ce7613ba5565b9050602002016020810190610cfc91906138fe565b898988818110610d0e57610d0e613ba5565b90506020020135604051610d2493929190613c26565b60405180910390a15050508080610d3a90613bbe565b915050610b0d565b5080606b6000828254610d559190613bd7565b909155505060688054906000610d6a83613bbe565b91905055505050505050565b600160a060020a03811660009081526074602052604090205460ff16610e075760405160e560020a62461bcd02815260206004820152602560248201527f5374616b696e673a20496e76616c6964207374616b696e6720706f6f6c20616460448201527f647265737300000000000000000000000000000000000000000000000000000060648201526084016109c9565b606654341015610e825760405160e560020a62461bcd02815260206004820152602a60248201527f5374616b696e673a20496e73756666696369656e74207061796d656e7420737460448201527f616b6520616d6f756e740000000000000000000000000000000000000000000060648201526084016109c9565b610e8c8133612a3d565b600160a060020a038116600090815260786020908152604080832033845290915281206001018054349290610ec29084906137d5565b9091555050600160a060020a03811660009081526077602052604081206002018054349290610ef29084906137d5565b9091555050606854600160a060020a038216600081815260786020908152604080832033808552908352818420600301869055938352607782528083206006019490945591815260769091529081208054349290610f519084906137d5565b9250508190555034606c6000828254610f6a91906137d5565b90915550610f79905081612c61565b7f5dac0c1b1112564a045ba943c9d50270893e8e826c49be8e7073adc713ab7bd7813334604051610fac93929190613c26565b60405180910390a150565b600054610100900460ff1615808015610fd75750600054600160ff909116105b80610ff15750303b158015610ff1575060005460ff166001145b6110665760405160e560020a62461bcd02815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a656400000000000000000000000000000000000060648201526084016109c9565b6000805460ff191660011790558015611089576000805461ff0019166101001790555b611091612e4b565b606587905560668690556067859055606d805473ffffffffffffffffffffffffffffffffffffffff1916331790556040805160608101825285815260208101859052018290526079849055607a839055607b8290556101f46069558015611132576000805461ff0019169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b50505050505050565b61116d6040518060a0016040528060008152602001600081526020016000815260200160008152602001600081525090565b600160a060020a0380841660009081526078602090815260408083209386168352928152828220835160a08101855281548152600182015492810192909252600281015493820193909352600383015460608201526004909201546080830152806111d88686612e7d565b602087015187519396509094508593506111f4929091506137d5565b11611200576000611206565b82602001515b60208401528183526040830180518291906112229083906137d5565b9052509195945050505050565b6112376129e0565b607980549082905560408051828152602081018490527f152c23f636bdeceefa623a683a92e747430a51e21cafa00468f300009faccbde9101610939565b6060606f8054806020026020016040519081016040528092919081815260200182805480156112cd57602002820191906000526020600020905b8154600160a060020a031681526001909101906020018083116112af575b5050505050905090565b6040513390303180156108fc02916000818181858888f19350505050158015611304573d6000803e3d6000fd5b50565b61132b60405180606001604052806000815260200160008152602001600081525090565b50604080516060810182526079548152607a546020820152607b549181019190915290565b6113586129e0565b600160a060020a0381166113d75760405160e560020a62461bcd02815260206004820152602660248201527f5374616b696e673a204e65772061646d696e20697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084016109c9565b606d8054600160a060020a0383811673ffffffffffffffffffffffffffffffffffffffff1983168117909355604080519190921680825260208201939093527f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f9101610939565b6114466129e0565b6114506000613221565b565b600061145e8383612e7d565b600160a060020a038088166000908152607860209081526040808320938a1683529290522060020154909450611499935091508390506137d5565b9392505050565b600160a060020a03808216600090815260776020908152604091829020825161014081018452815481526001820154928101929092526002810154928201929092526003820154606082015260048201546080820152600582015460a0820152600682015460c0820152600782015460e08201526008820154610100820152600990910154909116610120820181905233146115a75760405160e560020a62461bcd02815260206004820152603860248201527f43616c6c65722063616e6e6f7420626520746865206d696e6572206f6620746860448201527f6520737065636966696564207374616b696e6720706f6f6c000000000000000060648201526084016109c9565b600160a060020a038216600090815260776020526040812060040155608081015115611635576080810151604051339180156108fc02916000818181858888f193505050501580156115fd573d6000803e3d6000fd5b507f3eddff43ab85ca53728573d340418b4548d4ad634d8377887b6bf6c394013b968233836080015160405161093993929190613c26565b5050565b6060806000606e8054905060000361166b575050604080516000808252602082018181528284019093529092506119e5565b606e54841061169757505060408051600080825260208201908152818301909252606e549092506119e5565b606e54606954600091906116ab90876137d5565b116116c2576069546116bd90866137d5565b6116c6565b606e545b90506000855b828110156117385760736000606e83815481106116eb576116eb613ba5565b6000918252602080832090910154600160a060020a0316835282019290925260400190205460ff1615611726578161172281613bbe565b9250505b8061173081613bbe565b9150506116cc565b508060000361176957505060408051600080825260208201908152818301909252606e5490945090925090506119e5565b60008167ffffffffffffffff81111561178457611784613a46565b6040519080825280602002602001820160405280156117ad578160200160208202803683370190505b50905060008267ffffffffffffffff8111156117cb576117cb613a46565b6040519080825280602002602001820160405280156117f4578160200160208202803683370190505b50905082885b858110156119d15760736000606e838154811061181957611819613ba5565b6000918252602080832090910154600160a060020a0316835282019290925260400190205460ff16156119bf57606e818154811061185957611859613ba5565b600091825260209091200154600160a060020a0316846118798488613bd7565b8151811061188957611889613ba5565b6020026020010190600160a060020a03169081600160a060020a03168152505060006077600060756000606e86815481106118c6576118c6613ba5565b6000918252602080832090910154600160a060020a0390811684528382019490945260409283018220548416855284810195909552928101909220825161014081018452815481526001820154948101859052600282015493810184905260038201546060820181905260048301546080830152600583015460a0830152600683015460c0830152600783015460e083015260088301546101008301526009909201549092166101208301529093509091611980916137d5565b61198a91906137d5565b846119958589613bd7565b815181106119a5576119a5613ba5565b6020908102919091010152826119ba81613c4a565b935050505b806119c981613bbe565b9150506117fa565b5050606e54919650945092506119e5915050565b9193909250565b6119f46129e0565b606f5415611a475760405160e560020a62461bcd02815260206004820152601960248201527f457863657074696f6e20696e697469616c697a6174696f6e2e0000000000000060448201526064016109c9565b346067548251611a579190613bea565b611a62906002613bea565b14611ab25760405160e560020a62461bcd02815260206004820152601260248201527f6e6f7420706179696e6720656e6f7567682e000000000000000000000000000060448201526064016109c9565b60005b815181101561163557611ae0828281518110611ad357611ad3613ba5565b6020026020010151613280565b80611aea81613bbe565b915050611ab5565b611afa6129e0565b606780549082905560408051828152602081018490527f5fadc36b330bdc535599665363f02829bb8cad83b1a73fb023c454be267b23bb9101610939565b611b976040518061014001604052806000815260200160008152602001600081526020016000815260200160008152602001600081526020016000815260200160008152602001600081526020016000600160a060020a031681525090565b600160a060020a038083166000908152607760209081526040808320815161014081018352815481526001820154938101939093526002810154918301919091526003810154606083015260048101546080830152600581015460a0830152600681015460c0830152600781015460e0830152600881015461010083015260090154909216610120830152611c2c8482612e7d565b5060408501516020860151919450849350611c489250906137d5565b11611c54576000611c5a565b81604001515b6040830152602082015292915050565b600160a060020a03808216600090815260776020908152604091829020825161014081018452815481526001820154928101929092526002810154928201929092526003820154606082015260048201546080820152600582015460a0820152600682015460c0820152600782015460e0820152600882015461010082015260099091015490911661012082018190523314611d1b5760405160e560020a62461bcd0281526004016109c990613c61565b3360009081526073602052604090205"
															  "460ff16611d7d5760405160e560020a62461bcd02815260206004820181905260248201527f5374616b696e673a2043616c6c6572206973206e6f742061207769746e65737360448201526064016109c9565b336000908152607360205260409020805460ff19169055606854611da29060016137d5565b600160a060020a0383166000818152607760209081526040808320600801949094556074815290839020805460ff19169055825191825233908201527f63b8362693f57e4c1b276bd0c9580ad3692b8c9121d94b72aa8efdb615ead2159101610939565b611e108133612a3d565b600160a060020a0381166000908152607860209081526040808320338452909152902060020154801561163557600160a060020a038216600090815260786020908152604080832033808552925280832060020183905551909183156108fc02918491818181858888f19350505050158015611e90573d6000803e3d6000fd5b507f7e77f685b38c861064cb08f2776eb5dfd3c82f652ed9f21221b8c53b75628e5182338360405161093993929190613c26565b611ecc6129e0565b607a80549082905560408051828152602081018490527f09021411f3ba57aaca6b349a1ef8e489c8b42e01c9459d751c2bdcd0060fc06c9101610939565b33600090815260756020526040902054600160a060020a031615611f995760405160e560020a62461bcd02815260206004820152602260248201527f5374616b696e673a2043616c6c657220697320616c72656164792061206d696e60448201527f657200000000000000000000000000000000000000000000000000000000000060648201526084016109c9565b60648111156120135760405160e560020a62461bcd02815260206004820152603860248201527f437573746f6d2063726561746f722073686172652070657263656e746167652060448201527f63616e6e6f74206265206d6f7265207468616e2031303025000000000000000060648201526084016109c9565b606754341461208d5760405160e560020a62461bcd02815260206004820152602660248201527f496e636f72726563742063726561746f72207061796d656e74207374616b652060448201527f616d6f756e74000000000000000000000000000000000000000000000000000060648201526084016109c9565b6000612098336135ef565b9050806075600033600160a060020a0316600160a060020a0316815260200190815260200160002060006101000a815481600160a060020a030219169083600160a060020a0316021790555060016074600083600160a060020a0316600160a060020a0316815260200190815260200160002060006101000a81548160ff021916908315150217905550606f819080600181540180825580915050600190039060005260206000200160009091909190916101000a815481600160a060020a030219169083600160a060020a03160217905550604051806101400160405280606554815260200160008152602001600081526020013481526020016000815260200183815260200160008152602001600081526020016000815260200133600160a060020a03168152506077600083600160a060020a0316600160a060020a03168152602001908152602001600020600082015181600001556020820151816001015560408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e0820151816007015561010082015181600801556101208201518160090160006101000a815481600160a060020a030219169083600160a060020a031602179055509050506067546076600033600160a060020a0316600160a060020a0316815260200190815260200160002060008282546122aa91906137d5565b9091555050606754606c80546000906122c49084906137d5565b909155506122d3905081612c61565b606a80549060006122e383613bbe565b909155505060655460675460408051338152600160a060020a0385166020820152908101929092526060820184905260808201527f35a6ab5783db1dc85fee1aa6632c4402d51dbbf441e48c8846025fed1d80cb609060a001610939565b6123496129e0565b606680549082905560408051828152602081018490527f43249c0652af9d1bb7b479e9cc224a24177275383ae9e68c79929f5b751779059101610939565b600160a060020a03811660009081526078602090815260408083203384528252808320815160a0810183528154808252600183015494820185905260028301549382019390935260038201546060820152600490910154608082015292916123ee916137d5565b1161243e5760405160e560020a62461bcd02815260206004820181905260248201527f5374616b696e67506f6f6c3a204e6f207374616b6520746f20756e7374616b6560448201526064016109c9565b6124488233612a3d565b600160a060020a03821660009081526078602090815260408083203384528252808320815160a0810183528154808252600183015494820185905260028301549382019390935260038201546060820152600490910154608082015292916124af916137d5565b60208301519091501561250c57600160a060020a0384166000818152607860209081526040808320338452825280832060010183905585820151938352607790915281206002018054909190612506908490613bd7565b90915550505b81511561255e57600160a060020a038416600081815260786020908152604080832033845282528083208390558551938352607790915281206001018054909190612558908490613bd7565b90915550505b336000908152607660205260408120805483929061257d908490613bd7565b9250508190555080606c60008282546125969190613bd7565b9091555050604051339082156108fc029083906000818181858888f193505050501580156125c8573d6000803e3d6000fd5b506125d284613645565b7fd8654fcc8cf5b36d30b3f5e4688fc78118e6d68de60b9994e09902268b57c3e384338360405161260593929190613c26565b60405180910390a150505050565b61261b6129e0565b600160a060020a03811661269a5760405160e560020a62461bcd02815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084016109c9565b61130481613221565b600160a060020a03808216600090815260776020908152604091829020825161014081018452815481526001820154928101929092526002810154928201929092526003820154606082015260048201546080820152600582015460a0820152600682015460c0820152600782015460e08201526008820154610100820152600990910154909116610120820181905233146127545760405160e560020a62461bcd0281526004016109c990613c61565b3360009081526073602052604090205460ff16156127b75760405160e560020a62461bcd02815260206004820181905260248201527f5374616b696e673a20496e76616c6964207769746e657373206164647265737360448201526064016109c9565b610100810151158015906127d2575060685481610100015111155b6128475760405160e560020a62461bcd02815260206004820152602b60248201527f5374616b696e673a2043616e6e6f7420756e7374616b6520647572696e67206c60448201527f6f636b65642065706f636800000000000000000000000000000000000000000060648201526084016109c9565b600160a060020a0382166000908152607760209081526040808320600301839055606084015133845260769092528220805491929091612888908490613bd7565b90915550506060810151606c80546000906128a4908490613bd7565b90915550506060810151604051339180156108fc02916000818181858888f193505050501580156128d9573d6000803e3d6000fd5b503360008181526075602052604090819020805473ffffffffffffffffffffffffffffffffffffffff19169055606083015190517fc3ad27fe98c025cdf623f62d85b3f62ae6129594552ca746845a6ed0bf317dc092610939928692613c26565b6129426129e0565b607b80549082905560408051828152602081018490527f1eea489ff21f40ce106c2a0208d218f52f3ff2a459a770a48144ff6aafd8a9fa9101610939565b6060606e8054806020026020016040519081016040528092919081815260200182805480156112cd57602002820191906000526020600020908154600160a060020a031681526001909101906020018083116112af575050505050905090565b603354600160a060020a031633146114505760405160e560020a62461bcd02815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016109c9565b600080600080612a4d8686612e7d565b600160a060020a03808b166000818152607760209081526040808320815161014081018352815481526001820154818501526002820154818401526003820154606082015260048201546080820152600582015460a0820152600682015460c0820152600782015460e082019081526008830154610100830152600990920154909616610120870152938352607082528083209351835292905220549498509296509094509250908514612b3557600160a060020a03871660008181526070602090815260408083206068805485529083528184208a90555493835260779091529020600701555b8315612b6a57600160a060020a038781166000908152607860209081526040808320938a168352929052908120858155600101555b8215612b9457600160a060020a038716600090815260776020526040812060018101859055600201555b8115612bda57600160a060020a038088166000908152607860209081526040808320938a1683529290529081206002018054849290612bd49084906137d5565b90915550505b600160a060020a03871660009081526071602052604090205415612c1257600160a060020a0387166000908152607160205260408120555b600160a060020a03968716600081815260706020908152604080832060e09095015183529381528382205492825260788152838220989099168152969097529094206004019490945550505050565b600160a060020a0380821660009081526077602090815260409182902082516101408101845281548082526001830154938201849052600283015494820185905260038301546060830181905260048401546080840152600584015460a0840152600684015460c0840152600784015460e08401526008840154610100840152600990930154909516610120820152939291612cfd91906137d5565b612d0791906137d5565b10158015612d335750610120810151600160a060020a031660009081526073602052604090205460ff16155b156116355761012081018051600160a060020a039081166000908152607360209081526040808320805460ff19166001179055935190921681526072909152908120549003612e0457606e54612d8a9060016137d5565b61012082018051600160a060020a039081166000908152607260205260408120939093559051606e805460018101825593527f9930d9ff0dee0ef5ca2f7710ea66b8f84dd0f5f5351ecffe72b952cd9db7142a909201805473ffffffffffffffffffffffffffffffffffffffff1916929091169190911790555b61012081015160408051600160a060020a03808616825290921660208301527f4fee3a5d7636617eca279e9d93680bd7d2ecdfaef53aa19eeac947bc7227e5cb9101610939565b600054610100900460ff16612e755760405160e560020a62461bcd0281526004016109c990613cbe565b611450613789565b600160a060020a03808316600081815260786020908152604080832086861684528252808320815160a0808201845282548252600180840154838701526002808501548487015260038086015460608087019182526004978801546080808901919091529b8b5260778a52888b20895161014081018b5281548152958101549a86019a909a529289015497840197909752870154908201529285015496830196909652600584015495820195909552600683015460c0820152600783015460e082015260088301546101008201526009909201549094166101208201528251606854945192949093859384939192118015612f7b5750602082015115155b15612f92576020820151612f8f90866137d5565b94505b806020015193506068548160c00151108015612fb15750604081015115155b15612fc8576040810151612fc590856137d5565b93505b6068548160e00151108015612ff45750600160a060020a03881660009081526071602052604090205415155b8015612fff57508315155b156130a457600160a060020a038816600090815260716020526040902054849061303290670de0b6b3a764000090613bea565b61303c9190613c01565b600160a060020a038916600090815260706020908152604080832060e0860151845290915290205461306e91906137d5565b95506068548160c001511480156130885750604081015115155b1561309f57604081015161309c90856137d5565b93505b6130cf565b600160a060020a038816600090815260706020908152604080832060e0850151845290915290205495505b60685460608301516130e29060016137d5565b0361311d57670de0b6b3a76400008260800151876131009190613bd7565b835161310c9190613bea565b6131169190613c01565b9250613216565b600160a060020a038816600090815260706020908152604080832060608601518452909152812054900361316e57670de0b6b3a76400008260800151876131649190613bd7565b61310c9087613bea565b6080820151600160a060020a03891660009081526070602090815260408083206060870151845290915281205490916131a691613bd7565b83516131b29190613bea565b600160a060020a038a16600090815260706020908152604080832060608801518452909152812054919250906131e89089613bd7565b6131f29088613bea565b9050670de0b6b3a764000061320782846137d5565b6132119190613c01565b945050505b505092959194509250565b60338054600160a060020a0383811673ffffffffffffffffffffffffffffffffffffffff19831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b600061328b826135ef565b9050806075600084600160a060020a0316600160a060020a0316815260200190815260200160002060006101000a815481600160a060020a030219169083600160a060020a0316021790555060016074600083600160a060020a0316600160a060020a0316815260200190815260200160002060006101000a81548160ff021916908315150217905550606f819080600181540180825580915050600190039060005260206000200160009091909190916101000a815481600160a060020a030219169083600160a060020a03160217905550604051806101400160405280606554815260200160008152602001600081526020016067548152602001600081526020016064815260200160008152602001600081526020016000815260200183600160a060020a03168152506077600083600160a060020a0316600160a060020a03168152602001908152602001600020600082015181600001556020820151816001015560408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e0820151816007015561010082015181600801556101208201518160090160006101000a815481600160a060020a030219169083600160a060020a03160217905550905050606a600081548092919061347c90613bbe565b909155505060655460675460408051600160a060020a03808716825285166020820152908101929092526064606083015260808201527f35a6ab5783db1dc85fee1aa6632c4402d51dbbf441e48c8846025fed1d80cb609060a00160405180910390a1606754600160a060020a038083166000908152607860209081526040808320938716835292905290812080549091906135199084906137d5565b9091555050606754600160a060020a0382166000908152607760205260408120600101805490919061354c9084906137d5565b909155505060675461355f906002613bea565b600160a060020a038316600090815260766020526040812080549091906135879084906137d5565b909155505060675461359a906002613bea565b606c60008282546135ab91906137d5565b909155506135ba905081612c61565b7f5dac0c1b1112564a045ba943c9d50270893e8e826c49be8e7073adc713ab7bd7818360675460405161093993929190613c26565b606a546040516c01000000000000000000000000600160a060020a038416026020820152436034820152605481019190915260009060740160408051601f19818403018152919052805160209091012092915050565b600160a060020a0380821660009081526077602090815260409182902082516101408101845281548082526001830154938201849052600283015494820185905260038301546060830181905260048401546080840152600584015460a0840152600684015460c0840152600784015460e084015260088401546101008401526009909301549095166101208201529392916136e191906137d5565b6136eb91906137d5565b1080156137155750610120810151600160a060020a031660009081526073602052604090205460ff165b156116355761012081018051600160a060020a031660009081526073602052604090819020805460ff19169055905190517fb0bea5ad4eb9c900db2eac731253027b7c7cb282a134ef0dfdbe2357c6c147f79161093991859190600160a060020a0392831681529116602082015260400190565b600054610100900460ff166137b35760405160e560020a62461bcd0281526004016109c990613cbe565b61145033613221565b60e060020a634e487b7102600052601160045260246000fd5b8082018082111561096a5761096a6137bc565b6000602082840312156137fa57600080fd5b5035919050565b8035600160a060020a038116811461381857600080fd5b919050565b6000806040838503121561383057600080fd5b61383983613801565b946020939093013593505050565b60008083601f84011261385957600080fd5b50813567ffffffffffffffff81111561387157600080fd5b602083019150836020808302850101111561388b57600080fd5b9250929050565b600080600080604085870312156138a857600080fd5b843567ffffffffffffffff808211156138c057600080fd5b6138cc88838901613847565b909650945060208701359150808211156138e557600080fd5b506138f287828801613847565b95989497509550505050565b60006020828403121561391057600080fd5b61149982613801565b60008060008060008060c0878903121561393257600080fd5b505084359660208601359650604086013595606081013595506080810135945060a0013592509050565b6000806040838503121561396f57600080fd5b61397883613801565b915061398660208401613801565b90509250929050565b600081518084526020808501945080840160005b838110156139c8578151600160a060020a0316875295820195908201906001016139a3565b509495945050505050565b602081526000611499602083018461398f565b6060815260006139f9606083018661398f565b82810360208481019190915285518083528682019282019060005b81811015613a3057845183529383019391830191600101613a14565b5050809350505050826040830152949350505050565b60e060020a634e487b7102600052604160045260246000fd5b60006020808385031215613a7257600080fd5b823567ff"
															  "ffffffffffffff80821115613a8a57600080fd5b818501915085601f830112613a9e57600080fd5b813581811115613ab057613ab0613a46565b838102604051601f19603f83011681018181108582111715613ad457613ad4613a46565b604052918252848201925083810185019188831115613af257600080fd5b938501935b82851015613b1757613b0885613801565b84529385019392850192613af7565b98975050505050505050565b600061014082019050825182526020830151602083015260408301516040830152606083015160608301526080830151608083015260a083015160a083015260c083015160c083015260e083015160e083015261010080840151818401525061012080840151613b9d82850182600160a060020a03169052565b505092915050565b60e060020a634e487b7102600052603260045260246000fd5b600060018201613bd057613bd06137bc565b5060010190565b8181038181111561096a5761096a6137bc565b808202811582820484141761096a5761096a6137bc565b600082613c215760e060020a634e487b7102600052601260045260246000fd5b500490565b600160a060020a039384168152919092166020820152604081019190915260600190565b600081613c5957613c596137bc565b506000190190565b60208082526034908201527f5374616b696e673a2043616c6c6572206973206e6f7420746865206d696e657260408201527f206f6620746865207374616b696e6720706f6f6c000000000000000000000000606082015260800190565b6020808252602b908201527f496e697469616c697a61626c653a20636f6e7472616374206973206e6f74206960408201527f6e697469616c697a696e6700000000000000000000000000000000000000000060608201526080019056fea26469706673582212207fb8c0e256ebb24a45ee9d0fd4469eb41d24d746a2b4f514b036347cf00af7aa64736f6c63430008120033"
	));
	const dev::bytes MainContractByteCodeProxy(dev::fromHex("6080604052604051620010f7380380620010f783398101604081905262000026916200062f565b82816200005560017f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbd6200070f565b600080516020620010b0833981519152146200007557620000756200074a565b6200008c82826000640100000000620000f9810204565b50620000bc905060017fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61046200070f565b6000805160206200109083398151915214620000dc57620000dc6200074a565b620000f08264010000000062000142810204565b505050620007cc565b6200010d83640100000000620001af810204565b6000825111806200011b5750805b156200013d576200013b83836401000000006200024a620001fa82021704565b505b505050565b7f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f6200017664010000000062000234810204565b60408051600160a060020a03928316815291841660208301520160405180910390a1620001ac816401000000006200026d810204565b50565b620001c38164010000000062000353810204565b604051600160a060020a038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b60606200022b8383604051806060016040528060278152602001620010d06027913964010000000062000423810204565b90505b92915050565b60006200025e60008051602062001090833981519152640100000000620002066200055382021704565b54600160a060020a0316919050565b600160a060020a03811662000309576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f455243313936373a206e65772061646d696e20697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b806200033260008051602062001090833981519152640100000000620002066200055382021704565b8054600160a060020a031916600160a060020a039290921691909117905550565b6200036c81640100000000620002766200055682021704565b620003fa576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201527f6f74206120636f6e747261637400000000000000000000000000000000000000606482015260840162000300565b8062000332600080516020620010b0833981519152640100000000620002066200055382021704565b6060620004398464010000000062000556810204565b620004c7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f60448201527f6e74726163740000000000000000000000000000000000000000000000000000606482015260840162000300565b60008085600160a060020a031685604051620004e4919062000779565b600060405180830381855af49150503d806000811462000521576040519150601f19603f3d011682016040523d82523d6000602084013e62000526565b606091505b50915091506200054782828662000565640100000000026401000000009004565b925050505b9392505050565b90565b600160a060020a03163b151590565b60608315620005765750816200054c565b825115620005875782518084602001fd5b816040517f08c379a000000000000000000000000000000000000000000000000000000000815260040162000300919062000797565b8051600160a060020a0381168114620005d557600080fd5b919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60005b83811015620006265781810151838201526020016200060c565b50506000910152565b6000806000606084860312156200064557600080fd5b6200065084620005bd565b92506200066060208501620005bd565b9150604084015167ffffffffffffffff808211156200067e57600080fd5b818601915086601f8301126200069357600080fd5b815181811115620006a857620006a8620005da565b604051601f8201601f19908116603f01168101908382118183101715620006d357620006d3620005da565b81604052828152896020848701011115620006ed57600080fd5b6200070083602083016020880162000609565b80955050505050509250925092565b818103818111156200022e577f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052600160045260246000fd5b600082516200078d81846020870162000609565b9190910192915050565b6020815260008251806020840152620007b881604085016020870162000609565b601f01601f19169190910160400192915050565b6108b480620007dc6000396000f3fe60806040526004361061006a577c010000000000000000000000000000000000000000000000000000000060003504633659cfe681146100815780634f1ef286146100a15780635c60da1b146100b45780638f283970146100e5578063f851a4401461010557610079565b366100795761007761011a565b005b61007761011a565b34801561008d57600080fd5b5061007761009c366004610746565b610134565b6100776100af366004610761565b610171565b3480156100c057600080fd5b506100c96101d8565b604051600160a060020a03909116815260200160405180910390f35b3480156100f157600080fd5b50610077610100366004610746565b610209565b34801561011157600080fd5b506100c9610229565b610122610285565b61013261012d610338565b610342565b565b61013c610366565b600160a060020a031633036101695761016681604051806020016040528060008152506000610399565b50565b61016661011a565b610179610366565b600160a060020a031633036101d0576101cb8383838080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525060019250610399915050565b505050565b6101cb61011a565b60006101e2610366565b600160a060020a031633036101fe576101f9610338565b905090565b61020661011a565b90565b610211610366565b600160a060020a0316330361016957610166816103c4565b6000610233610366565b600160a060020a031633036101fe576101f9610366565b606061026f838360405180606001604052806027815260200161085860279139610418565b9392505050565b600160a060020a03163b151590565b61028d610366565b600160a060020a031633036101325760405160e560020a62461bcd02815260206004820152604260248201527f5472616e73706172656e745570677261646561626c6550726f78793a2061646d60448201527f696e2063616e6e6f742066616c6c6261636b20746f2070726f7879207461726760648201527f6574000000000000000000000000000000000000000000000000000000000000608482015260a4015b60405180910390fd5b60006101f961050f565b3660008037600080366000845af43d6000803e808015610361573d6000f35b3d6000fd5b60007fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035b54600160a060020a0316919050565b6103a283610537565b6000825111806103af5750805b156101cb576103be838361024a565b50505050565b7f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f6103ed610366565b60408051600160a060020a03928316815291841660208301520160405180910390a161016681610577565b6060600160a060020a0384163b61049a5760405160e560020a62461bcd02815260206004820152602660248201527f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f60448201527f6e74726163740000000000000000000000000000000000000000000000000000606482015260840161032f565b60008085600160a060020a0316856040516104b59190610808565b600060405180830381855af49150503d80600081146104f0576040519150601f19603f3d011682016040523d82523d6000602084013e6104f5565b606091505b5091509150610505828286610647565b9695505050505050565b60007f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc61038a565b61054081610683565b604051600160a060020a038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b600160a060020a0381166105f65760405160e560020a62461bcd02815260206004820152602660248201527f455243313936373a206e65772061646d696e20697320746865207a65726f206160448201527f6464726573730000000000000000000000000000000000000000000000000000606482015260840161032f565b807fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61035b805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905550565b6060831561065657508161026f565b8251156106665782518084602001fd5b8160405160e560020a62461bcd02815260040161032f9190610824565b600160a060020a0381163b6107035760405160e560020a62461bcd02815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201527f6f74206120636f6e747261637400000000000000000000000000000000000000606482015260840161032f565b807f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc610619565b8035600160a060020a038116811461074157600080fd5b919050565b60006020828403121561075857600080fd5b61026f8261072a565b60008060006040848603121561077657600080fd5b61077f8461072a565b9250602084013567ffffffffffffffff8082111561079c57600080fd5b818601915086601f8301126107b057600080fd5b8135818111156107bf57600080fd5b8760208285010111156107d157600080fd5b6020830194508093505050509250925092565b60005b838110156107ff5781810151838201526020016107e7565b50506000910152565b6000825161081a8184602087016107e4565b9190910192915050565b60208152600082518060208401526108438160408501602087016107e4565b601f01601f1916919091016040019291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a26469706673582212206f0280622bf3f143ca65327f5733e3bc7757d1e99fc2ab0c1a9979004626b6e464736f6c63430008120033b53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c656400000000000000000000000049cb0b59687de084c5888fbb687bc9a8af40372f000000000000000000000000eee0939ec6a77d83a8ad91281f5f434f16ee6928000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000c42d7aa82b00000000000000000000000000000000000000000001a784379d99db4200000000000000000000000000000000000000000000000000021e19e0c9bab240000000000000000000000000000000000000000000000000d3c21bcecceda100000000000000000000000000000000000000000000000000021e19e0c9bab24000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000"));

	const std::string MainContractABI = "[{\"inputs\":[],\"name\":\"getInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"onMci\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"notOnMci\",\"type\":\"uint256\"}],\"internalType\":\"struct DepositContract.Info\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\",\"constant\":true},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"start\",\"type\":\"uint256\"}],\"name\":\"getWitnesses\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\",\"constant\":true},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"witnesses\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"amounts\",\"type\":\"uint256[]\"}],\"name\":\"distributeRewards\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"initWitnessList\",\"type\":\"address[]\"}],\"name\":\"initWitnesses\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\",\"payable\":true}]";
	const dev::Address MainContractAddress = dev::Address("0x8323Faf4203cB1eE1956100D3197803d7F7955d3");
	const dev::Address MainCallcAddress = dev::Address("0x92415ac021B91045E9bfF73334640c6A0e099069");

	Transactions InitMainContractTransaction();

	class MainContractCaller
	{
	public:
		MainContractCaller() {}
		MainContractCaller(dev::BoundContract _contract) :contract(_contract) {}

		/// write contract
		dev::bytes DistributeRewards(std::map<dev::Address, u256> const& _v);

		/// write contract. just for initializer.
		dev::bytes InitWitnesses(WitnessList const& _v);

		///read contract; staking list
		std::pair<StakingList, int> GetWitnesses(int const& start = 0);

		///read contract; main info
		MainInfo GetMainInfo();
	private:
		dev::CallOpts DefaultOpts{ MainCallcAddress };
		dev::BoundContract contract;
	};

	MainContractCaller NewMainContractCaller(dev::ContractCaller const& _caller);
	///ContractCaller instance
	extern MainContractCaller MainCaller;
}
